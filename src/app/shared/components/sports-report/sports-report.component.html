<app-loading-bar [progress]="uiFlag.progress"></app-loading-bar>
<div class="flexCol">
  <div
    class="cardSection"
    [style.display]="uiFlag.isPreviewMode ? 'none' : ''"
  >
    <app-report-filter></app-report-filter>
  </div>
  <div class="cardSection">
    <div class="cardContent">
      <ng-container *ngIf="uiFlag.noData">
        <p class="noDataText">{{ 'universal_status_noData' | translate }}</p>
      </ng-container>
      <ng-container *ngIf="!uiFlag.noData">
        <header>
          <div class="functionBtnBar" style="align-items: center;">
            <button
              class="functionBtn"
              (click)="showPrivacyAlert()"
              *ngIf="uiFlag.isReportOwner && !uiFlag.isPreviewMode"
            >
              <i class="icon-svg_web-icon_p1_013-share"></i>
            </button>
            <button 
              class="alatech-btn alatech-btn--default"
              title="{{'universal_operating_print' | translate}}"
              (click)="print()"
              *ngIf="uiFlag.isPreviewMode"
            >
              {{'universal_operating_print' | translate}}
            </button>
            <a 
              target="_blank"
              class="functionBtn"
              href="#"
              (click)="navigatePreviewMode($event)"
              *ngIf="!uiFlag.isPreviewMode"
            >
              <i class="icon-svg_web-icon_p2_087-print"></i>
            </a>
          </div>
          <section class="report-headerSection">
            <div class="flexRow" style="align-items: center;">
              <i class="flexCenter report-headerIcon" [class]="reportConditionOpt.sportType | sportTypeIcon" ></i>
              <div class="flexCol  report-titleText">
                <span class="report-dateAnnotation">
                  {{ 'universal_group_buildFromTime' | translate: {date: reportTime.endDate, range: reportTime.range} }}
                </span>
                <div class="flexRow" style="align-items: center;">
                  <span class="report-headerTitle">
                    {{ reportConditionOpt.sportType | sportType | translate }}
                    {{ 'universal_deviceSetting_activityTotals' | translate }}
                  </span>
                </div>
              </div>
            </div>
            <div class="flexCenter report-fileOwner">
              <div class="flexCol" style="margin-right: 10px;">
                <span class="report-headerTitle" >{{ userInfo.name }}</span>
              </div>
              <img 
                class="report-imgIcon"
                [src]="userInfo.icon"
                (error)="this.userInfo.icon='/assets/images/user2.png'"
              >
            </div>
          </section>
        </header>
        <section class="report-displaySection">
          <div class="flexRow cardTitle">
            <h6 class="cardSubtitle">{{ 'universal_activityData_summary' | translate }}</h6>
            <span style="display: flex; align-items: center;" class="report-dateAnnotation">
              {{ 'universal_activityData_creatTime' | translate }} {{ reportTime.create }}
            </span>
          </div>
          <div class="report-summaryArea" *ngIf="info">
            <div>
              <span class="report-summaryData">{{ info.totalActivities || 0 }}</span>
              <p class="report-summaryDescription">
                {{ 'universal_activityData_totalActivity' | translate }}
              </p>
            </div>
            <div>
              <span class="report-summaryData">
                <ng-container *ngIf="reportConditionOpt.sportType !== sportCode.weightTrain">
                  {{ info.totalSecond || 0 | sportTime: [true, false] }}
                </ng-container>
                <ng-container *ngIf="reportConditionOpt.sportType === sportCode.weightTrain">
                  {{ info.totalActivitySecond || 0 | sportTime: [true, false] }}
                </ng-container>
              </span>
              <p class="report-summaryDescription">
                <ng-container *ngIf="reportConditionOpt.sportType !== sportCode.weightTrain">
                  {{ 'universal_activityData_totalTime' | translate }}
                </ng-container>
                <ng-container *ngIf="reportConditionOpt.sportType === sportCode.weightTrain">
                  {{ 'universal_adjective_singleTotal' | translate }} {{ 'universal_activityData_limit_activityTime' | translate }}
                </ng-container>
              </p>
            </div>
            <div>
              <span class="report-summaryData">
                <ng-container *ngIf="reportConditionOpt.sportType !== sportCode.weightTrain">
                  {{ (info.totalSecond / info.totalActivities) || 0 | sportTime: [true, false] }}
                </ng-container>
                <ng-container *ngIf="reportConditionOpt.sportType === sportCode.weightTrain">
                  {{ (info.totalActivitySecond / info.totalActivities) || 0 | sportTime: [true, false] }}
                </ng-container>
              </span>
              <p class="report-summaryDescription">
                <ng-container *ngIf="reportConditionOpt.sportType !== sportCode.weightTrain">
                  {{ 'universal_adjective_avg' | translate }} {{ 'universal_activityData_totalTime' | translate }}
                </ng-container>
                <ng-container *ngIf="reportConditionOpt.sportType === sportCode.weightTrain">
                  {{ 'universal_adjective_avg' | translate }} {{ 'universal_activityData_limit_activityTime' | translate }}
                </ng-container>
              </p>
            </div>
            <div>
              <div>
                <span class="report-summaryData">{{ info.calories || 0 | thousandConversion | number: '1.0-1' }}</span>
                <span class="report-infoDataUnit">{{ info.calories >= 1000 ? 'kcal' : 'cal' }}</span>
              </div>
              <p class="report-summaryDescription">{{ 'universal_activityData_totalCalories' | translate }}</p>
            </div>
            <div>
              <div>
                <span class="report-summaryData">
                  {{ (info.calories / info.totalActivities) || 0 | thousandConversion | number: '1.0-1' }}
                </span>
                <span class="report-infoDataUnit">
                  {{ ((info.calories / info.totalActivities) || 0) >= 1000 ? 'kcal' : 'cal' }}
                </span>
              </div>
              <p class="report-summaryDescription">
                {{'universal_adjective_avg' | translate}} {{'universal_activityData_totalCalorie' | translate}}
              </p>
            </div>
            <div
              class="report-summaryDataArea"
              *ngIf="[sportCode.run, sportCode.aerobic, sportCode.ball].includes(reportConditionOpt.sportType)"
            >
              <div>
                <span class="report-summaryData">
                  {{
                    (info?.avgHeartRateBpm / avgDataRecord?.avgHeartRateBpm) || 0 | number: '1.0-0'
                  }}
                </span>
                <span class="report-infoDataUnit">bpm</span>
              </div>
              <p class="report-summaryDescription">
                {{ 'universal_adjective_avg' | translate }} {{ 'universal_activityData_hr' | translate }} 
              </p>
            </div>
            <div *ngIf="reportConditionOpt.sportType === sportCode.all">
              <div>
                <span class="report-summaryData">
                  {{ info.totalBenefitSecond || 0 | sportTime: [false, false] }}
                </span>
              </div>
              <p class="report-summaryDescription">
                {{ 'universal_activityData_benefitime' | translate }} 
              </p>
            </div>
            <div *ngIf="reportConditionOpt.sportType === sportCode.all">
              <div>
                <span class="report-summaryData">
                  {{ info.pai || 0 | number: '1.0-1' }}
                </span>
              </div>
              <p class="report-summaryDescription">
                {{ 'universal_activityData_pai' | translate }} 
              </p>
            </div>
            <div
              class="report-summaryDataArea"
              *ngIf="[sportCode.run, sportCode.cycle, sportCode.swim, sportCode.row, sportCode.ball].includes(reportConditionOpt.sportType)"
            >
              <div>
                <span class="report-summaryData">
                  {{ info.totalDistanceMeters || 0 | distanceSibs: [userInfo.unit, false] }}
                </span>
                <span class="report-infoDataUnit">
                  <ng-container *ngIf="userInfo.unit === unitEnum.metric">
                    {{ info.totalDistanceMeters >= 1000 ? 'km' : 'm' }}
                  </ng-container>
                  <ng-container *ngIf="init === 1">
                    {{ info.totalDistanceMeters / mi >= 1000 ? 'mi' : 'ft' }}
                  </ng-container>
                </span>
              </div>
              <p class="report-summaryDescription">
                {{ 'universal_activityData_distance' | translate }} 
              </p>
            </div>
            <div
              class="report-summaryDataArea"
              *ngIf="[sportCode.run, sportCode.cycle, sportCode.swim, sportCode.row, sportCode.ball].includes(reportConditionOpt.sportType)"
            >
              <div>
                <span class="report-summaryData">
                  {{ (info.totalDistanceMeters / info.totalActivities) || 0 | distanceSibs: [userInfo.unit, false] }}
                </span>
                <span class="report-infoDataUnit">
                  <ng-container *ngIf="userInfo.unit === unitEnum.metric">
                    {{ (info.totalDistanceMeters / info.totalActivities) || 0 >= 1000 ? 'km' : 'm' }}
                  </ng-container>
                  <ng-container *ngIf="init === 1">
                    {{ ((info.totalDistanceMeters / info.totalActivities) / mi) || 0 >= 1000 ? 'mi' : 'ft' }}
                  </ng-container>
                </span>
              </div>
              <p class="report-summaryDescription">
                {{ 'universal_activityData_avgDistance' | translate }} 
              </p>
            </div>
            <div *ngIf="reportConditionOpt.sportType === sportCode.run">
              <div>
                <span class="report-summaryData">
                  {{ info.elevGain || 0 | distanceSibs: [userInfo.unit, false] }}
                </span>
                <span class="report-infoDataUnit">
                  <ng-container *ngIf="userInfo.unit === unitEnum.metric">
                    {{ info.elevGain >= 1000 ? 'km' : 'm' }}
                  </ng-container>
                  <ng-container *ngIf="init === 1">
                    {{ info.elevGain / mi >= 1000 ? 'mi' : 'ft' }}
                  </ng-container>
                </span>
              </div>
              <p class="report-summaryDescription">
                {{ 'universal_activityData_climb' | translate }} 
              </p>
            </div>
            <div *ngIf="reportConditionOpt.sportType === sportCode.weightTrain">
              <div>
                <span class="report-summaryData">
                  {{ info.totalWeightKg | weightSibs: [userInfo.unit, 1] }}
                </span>
                <span class="report-infoDataUnit">
                  {{ userInfo.unit === unitEnum.metric ? 'kg' : 'lb' }}
                </span>
              </div>
              <p class="report-summaryDescription">
                {{ 'universal_activityData_limit_activiyTotalWeight' | translate }} 
              </p>
            </div>
            <div *ngIf="reportConditionOpt.sportType === sportCode.run">
              <span class="report-summaryData">
                {{ (info?.avgSpeed / avgDataRecord?.avgSpeed) || 0 | sportPaceSibs: [sportCode.run, userInfo.unit, 1] }}
              </span>
              <p class="report-summaryDescription">
                <ng-container *ngIf="userInfo.unit === unitEnum.metric">{{ 'universal_activityData_avgKilometerPace' | translate }}</ng-container>
                <ng-container *ngIf="userInfo.unit === unitEnum.imperial">{{ 'universal_activityData_avgMilePace' | translate }}</ng-container>
              </p>
            </div>
            <div
              class="report-summaryDataArea"
              *ngIf="[sportCode.cycle, sportCode.ball].includes(reportConditionOpt.sportType)"
            >
              <div>
                <span class="report-summaryData">
                  {{ (info?.avgSpeed / avgDataRecord?.avgSpeed) || 0 | speedSibs: [userInfo.unit, 1] }}
                </span>
                <span class="report-infoDataUnit">
                  {{ userInfo.unit === unitEnum.metric ? 'km/h' : 'mi/h' }}
                </span>
              </div>
              <p class="report-summaryDescription">
                {{ 'universal_adjective_avg' | translate }} {{ 'universal_activityData_speed' | translate }} 
              </p>
            </div>
            <div *ngIf="reportConditionOpt.sportType === sportCode.swim">
              <span class="report-summaryData">
                {{ (info?.avgSpeed / avgDataRecord?.avgSpeed) || 0 | sportPaceSibs: [sportCode.swim, userInfo.unit, 1] }}
              </span>
              <p class="report-summaryDescription">
                {{ 'universal_adjective_avg' | translate }} {{ 'universal_activityData_100mPace' | translate }}
              </p>
            </div>
            <div *ngIf="reportConditionOpt.sportType === sportCode.row">
              <span class="report-summaryData">
                {{ (info?.avgSpeed / avgDataRecord?.avgSpeed) || 0 | sportPaceSibs: [sportCode.row, userInfo.unit, 1] }}
              </span>
              <p class="report-summaryDescription">
                {{ 'universal_adjective_avg' | translate }} {{ 'universal_activityData_500mPace' | translate }} 
              </p>
            </div>
            <div *ngIf="reportConditionOpt.sportType === sportCode.run">
              <div>
                <span class="report-summaryData">
                  {{ (info?.runAvgCadence / avgDataRecord?.runAvgCadence) || 0 | number: '1.0-1' }}
                </span>
                <span class="report-infoDataUnit">spm</span>
              </div>
              <p class="report-summaryDescription">
                {{ 'universal_activityData_avgStepCadence' | translate }}
              </p>
            </div>
            <div *ngIf="reportConditionOpt.sportType === sportCode.cycle">
              <div>
                <span class="report-summaryData">
                  {{ (info?.cycleAvgCadence / avgDataRecord?.cycleAvgCadence) || 0 | number: '1.0-1' }}
                </span>
                <span class="report-infoDataUnit">rpm</span>
              </div>
              <p class="report-summaryDescription">
                {{ 'universal_adjective_avg' | translate }} {{ 'universal_activityData_CyclingCadence' | translate }} 
              </p>
            </div>
            <div *ngIf="reportConditionOpt.sportType === sportCode.swim">
              <div>
                <span class="report-summaryData">
                  {{ (info?.swimAvgCadence / avgDataRecord?.swimAvgCadence) || 0 | number: '1.0-1' }}
                </span>
                <span class="report-infoDataUnit">rpm</span>
              </div>
              <p class="report-summaryDescription">
                {{ 'universal_adjective_avg' | translate }} {{ 'universal_activityData_swimCadence' | translate }} 
              </p>
            </div>
            <div *ngIf="reportConditionOpt.sportType === sportCode.row">
              <div>
                <span class="report-summaryData">
                  {{ (info?.rowingAvgCadence / avgDataRecord?.rowingAvgCadence) || 0 | number: '1.0-1' }}
                </span>
                <span class="report-infoDataUnit">rpm</span>
              </div>
              <p class="report-summaryDescription">
                {{ 'universal_adjective_avg' | translate }} {{ 'universal_activityData_rowCadence' | translate }} 
              </p>
            </div>
            <div *ngIf="reportConditionOpt.sportType === sportCode.row">
              <div>
                <span class="report-summaryData">
                  {{ (info?.rowingAvgWatt / avgDataRecord?.rowingAvgWatt) || 0 | number: '1.0-1' }}
                </span>
                <span class="report-infoDataUnit">watt</span>
              </div>
              <p class="report-summaryDescription">
                {{ 'universal_adjective_avg' | translate }} {{ 'universal_activityData_power' | translate }} 
              </p>
            </div>
            <ng-container *ngIf="reportConditionOpt.sportType === sportCode.ball">
            <!-- wb002 138版 不支援totalPlusGforce、totalMinusGforce
              <div>
                <div>
                  <span class="report-summaryData">
                    {{ info.totalPlaneAcceleration | number: '1.0-0' }}
                  </span>
                  <span class="report-infoDataUnit">g</span>
                </div>
                <p class="report-summaryDescription">
                  {{ 'universal_adjective_accumulation' | translate }}
                  {{ 'universal_activityData_planarAcceleration' | translate }} 
                </p>
              </div>
              <div *ngIf="userInfo.accessRight <= 20">
                <div>
                  <span class="report-summaryData">
                    {{ info.totalPlusGforceX | number: '1.0-1' }}
                  </span>
                  <span class="report-infoDataUnit">g</span>
                </div>
                <p class="report-summaryDescription">
                  {{ 'universal_activityData_totalRight' | translate }} 
                </p>
              </div>
              <div *ngIf="userInfo.accessRight <= 20">
                <div>
                  <span class="report-summaryData">
                    {{ info.totalMinusGforceX | number: '1.0-1' }}
                  </span>
                  <span class="report-infoDataUnit">g</span>
                </div>
                <p class="report-summaryDescription">
                  {{ 'universal_activityData_totalLeft' | translate }} 
                </p>
              </div>
              <div *ngIf="userInfo.accessRight <= 20">
                <div>
                  <span class="report-summaryData">
                    {{ info.totalPlusGforceY | number: '1.0-1' }}
                  </span>
                  <span class="report-infoDataUnit">g</span>
                </div>
                <p class="report-summaryDescription">
                  {{ 'universal_activityData_totalAcceleration' | translate }} 
                </p>
              </div>
              <div *ngIf="userInfo.accessRight <= 20">
                <div>
                  <span class="report-summaryData">
                    {{ info.totalMinusGforceY | number: '1.0-1' }}
                  </span>
                  <span class="report-infoDataUnit">g</span>
                </div>
                <p class="report-summaryDescription">
                  {{ 'universal_activityData_totalImpact' | translate }} 
                </p>
              </div>
              <div>
                <div>
                  <span class="report-summaryData">
                    {{ info.totalPlusGforceZ | number: '1.0-1' }}
                  </span>
                  <span class="report-infoDataUnit">g</span>
                </div>
                <p class="report-summaryDescription">
                  {{ 'universal_activityData_totalJump' | translate }} 
                </p>
              </div>
              <div>
                <div>
                  <span class="report-summaryData">
                    {{ info.totalMinusGforceZ | number: '1.0-1' }}
                  </span>
                  <span class="report-infoDataUnit">g</span>
                </div>
                <p class="report-summaryDescription">
                  {{ 'universal_activityData_totalFloorImpact' | translate }} 
                </p>
              </div>
            -->
            </ng-container>
          </div>
        </section>
        <section class="report-displaySection" *ngIf="reportConditionOpt.sportType === sportCode.all">
          <div class="cardTitle">
            <h6 class="cardSubtitle">{{'universal_activityData_activityAnalysis' | translate}}</h6>
          </div>
          <p class="report-areaDescription">{{'universal_activityData_activityAnalysisReportDescription' | translate}}</p>
          <div class="flexRow report-rerangeChartLayout">
            <div class="flexCol report-ringChart">
              <div class="flexRow" style="align-items: flex-end;">
                <div class="flexCol report-ringChartSection">
                  <span class="report-ringChartTitle">{{'universal_activityData_amountOfQuantity' | translate}}</span>
                  <app-ring-chart
                    [data]="chart.ring.stroke"
                    [selectType]="uiFlag.analysisType"
                    *ngIf="uiFlag.progress === 100"
                  ></app-ring-chart>
                </div>
                <div class="flexCol report-ringChartSection">
                  <span class="report-ringChartTitle">{{'universal_activityData_proportionOfTime' | translate}}</span>
                  <app-ring-chart
                    [data]="chart.ring.time"
                    [selectType]="uiFlag.analysisType"
                    *ngIf="uiFlag.progress === 100"
                  ></app-ring-chart>
                </div>
              </div>
              <div class="flexRow" style="flex-wrap: wrap;">
                <div
                  class="flexCol report-perTypeInfo"
                  *ngIf="chart.ring.stroke[sportCode.run - 1] !== 0"
                  (click)="assignAnalysisType(sportCode.run)"
                >
                  <div class="flexRow">
                    <span
                      class="report-dot"
                      [style.color]="[sportCode.all, sportCode.run].includes(uiFlag.analysisType) ? '#ea5757' : '#9e9e9e'"
                    >●</span>
                    <span class="report-perTypeTitle">
                      {{'universal_activityData_run' | translate}}
                      {{chart.ring.stroke[sportCode.run - 1]}}
                      {{'universal_activityData_numberOf' | translate}}
                    </span>
                  </div>
                  <span class="report-perTypeAvgTime">
                    {{'universal_activityData_limit_totalTime' | translate}}
                    {{chart.ring.time[sportCode.run - 1] | sportTime}}
                  </span>
                </div>
                <div
                  class="flexCol report-perTypeInfo"
                  *ngIf="chart.ring.stroke[sportCode.cycle - 1] !== 0"
                  (click)="assignAnalysisType(sportCode.cycle)"
                >
                  <div class="flexRow">
                    <span
                      class="report-dot"
                      [style.color]="[sportCode.all, sportCode.cycle].includes(uiFlag.analysisType) ? '#ff9a22' : '#9e9e9e'"
                    >●</span>
                    <span class="report-perTypeTitle">
                      {{'universal_activityData_cycle' | translate}}
                      {{chart.ring.stroke[sportCode.cycle - 1]}}
                      {{'universal_activityData_numberOf' | translate}}
                    </span>
                  </div>
                  <span class="report-perTypeAvgTime">
                    {{'universal_activityData_limit_totalTime' | translate}}
                    {{chart.ring.time[sportCode.cycle - 1] | sportTime}}
                  </span>
                </div>
                <div
                  class="flexCol report-perTypeInfo"
                  *ngIf="chart.ring.stroke[sportCode.weightTrain - 1] !== 0"
                  (click)="assignAnalysisType(sportCode.weightTrain)"
                >
                  <div class="flexRow">
                    <span
                      class="report-dot"
                      [style.color]="[sportCode.all, sportCode.weightTrain].includes(uiFlag.analysisType) ? '#f9cc3d' : '#9e9e9e'"
                    >●</span>
                    <span class="report-perTypeTitle">
                      {{'universal_activityData_weightTraining' | translate}}
                      {{chart.ring.stroke[sportCode.weightTrain - 1]}}
                      {{'universal_activityData_numberOf' | translate}}
                    </span>
                  </div>
                  <span class="report-perTypeAvgTime">
                    {{'universal_activityData_limit_totalTime' | translate}}
                    {{chart.ring.time[sportCode.weightTrain - 1] | sportTime}}
                  </span>
                </div>
                <div 
                  class="flexCol report-perTypeInfo"
                  *ngIf="chart.ring.stroke[sportCode.swim - 1] !== 0"
                  (click)="assignAnalysisType(sportCode.swim)"
                >
                  <div class="flexRow">
                    <span
                      class="report-dot"
                      [style.color]="[sportCode.all, sportCode.swim].includes(uiFlag.analysisType) ? '#cfef4b' : '#9e9e9e'"
                    >●</span>
                    <span class="report-perTypeTitle">
                      {{'universal_activityData_swin' | translate}}
                      {{chart.ring.stroke[sportCode.swim - 1]}}
                      {{'universal_activityData_numberOf' | translate}}
                    </span>
                  </div>
                  <span class="report-perTypeAvgTime">
                    {{'universal_activityData_limit_totalTime' | translate}}
                    {{chart.ring.time[sportCode.swim - 1] | sportTime}}
                  </span>
                </div>
                <div
                  class="flexCol report-perTypeInfo"
                  *ngIf="chart.ring.stroke[sportCode.aerobic - 1] !== 0"
                  (click)="assignAnalysisType(sportCode.aerobic)"
                >
                  <div class="flexRow">
                    <span
                      class="report-dot"
                      [style.color]="[sportCode.all, sportCode.aerobic].includes(uiFlag.analysisType) ? '#75f25f' : '#9e9e9e'"
                    >●</span>
                    <span class="report-perTypeTitle">
                      {{'universal_activityData_aerobic' | translate}}
                      {{chart.ring.stroke[sportCode.aerobic - 1]}}
                      {{'universal_activityData_numberOf' | translate}}
                    </span>
                  </div>
                  <span class="report-perTypeAvgTime">
                    {{'universal_activityData_limit_totalTime' | translate}}
                    {{chart.ring.time[sportCode.aerobic - 1] | sportTime}}
                  </span>
                </div>
                <div
                  class="flexCol report-perTypeInfo"
                  *ngIf="chart.ring.stroke[sportCode.row - 1] !== 0"
                  (click)="assignAnalysisType(sportCode.row)"
                >
                  <div class="flexRow">
                    <span
                      class="report-dot"
                      [style.color]="[sportCode.all, sportCode.row].includes(uiFlag.analysisType) ? '#72e8b0' : '#9e9e9e'"
                    >●</span>
                    <span class="report-perTypeTitle">
                      {{'universal_sportsName_boating' | translate}}
                      {{chart.ring.stroke[sportCode.row - 1]}}
                      {{'universal_activityData_numberOf' | translate}}
                    </span>
                  </div>
                  <span class="report-perTypeAvgTime">
                    {{'universal_activityData_limit_totalTime' | translate}}
                    {{chart.ring.time[sportCode.row - 1] | sportTime}}
                  </span>
                </div>
                <div 
                  class="flexCol report-perTypeInfo"
                  *ngIf="chart.ring.stroke[sportCode.ball - 1] !== 0"
                  (click)="assignAnalysisType(sportCode.ball)"
                >
                  <div class="flexRow">
                    <span
                      class="report-dot"
                      [style.color]="[sportCode.all, sportCode.ball].includes(uiFlag.analysisType) ? '#6bebf9' : '#9e9e9e'"
                    >●</span>
                    <span class="report-perTypeTitle">
                      {{'universal_activityData_ballSports' | translate}}
                      {{chart.ring.stroke[sportCode.ball - 1]}}
                      {{'universal_activityData_numberOf' | translate}}
                    </span>
                  </div>
                  <span class="report-perTypeAvgTime">
                    {{'universal_adjective_avg' | translate}}
                    {{chart.ring.time[sportCode.ball - 1] | sportTime}}
                  </span>
                </div>
              </div>
            </div>
            <div class="flexCol report-distributionChartWidth">
              <span class="report-timeRangeType">
                {{'universal_activityData_activityEffectivenessMap' | translate}}
                <span *ngIf="reportTime.type === 1">({{'universal_time_day' | translate}})</span>
                <span *ngIf="reportTime.type === 2">({{'universal_time_week' | translate}})</span>
              </span>
              <app-distribution-chart
                [typeList]="chart.distribution.typeList"
                [perAvgHR]="chart.distribution.perAvgHR"
                [perActivityTime]="chart.distribution.perActivityTime"
                [selectType]="uiFlag.analysisType"
                [HRRange]="[60, 190]"
                *ngIf="uiFlag.progress === 100"
                class="report-distributionChart"
              >
              </app-distribution-chart>
            </div>
          </div>
        </section>
        <section
          class="report-displaySection"
          *ngIf="reportConditionOpt.sportType !== sportCode.weightTrain"
        >
          <div class="flexCol">
            <div class="cardTitle">
              <h6 class="cardSubtitle">{{'universal_activityData_hrZone' | translate}}</h6>
            </div>
            <div class="flexRow report-rerangeChartLayout">
              <div class="flexCol report-zoneChart">
                <p class="report-areaDescription">
                  {{ 'universal_activityData_hrStatisticsDuringThePeriod' | translate: {'number': info.totalActivities } }}
                </p>
                <div>
                  <div>
                    <p class="report-chartTitle">{{'universal_group_hrZoneLandingPoint' | translate}}</p>
                  </div>
                  <div>
                    <app-hrzone-chart
                      [data]="chart.hrzone"
                      [type]="'mixHrZone'"
                      [isPreviewMode]="uiFlag.isPreviewMode"
                      *ngIf="uiFlag.progress === 100"
                    ></app-hrzone-chart>
                  </div>
                </div>
              </div>
              <div class="report-infoChart">
                <app-hrzone-info
                  [hrZoneRange]="chart.hrInfo"
                  *ngIf="uiFlag.progress === 100"
                ></app-hrzone-info>
              </div>
            </div>
          </div>
        </section>
        <section class="report-displaySection" *ngIf="reportConditionOpt.sportType !== sportCode.weightTrain">
          <div class="flexCol">
            <div class="cardTitle">
              <h6 class="cardSubtitle">
                {{'universal_activityData_hrZone' | translate}} {{'universal_activityData_trend' | translate}}
              </h6>
            </div>
            <p class="report-areaDescription">
              {{'universal_activityData_hrZoneTrendReportDescription' | translate}}
            </p>
            <div>
              <app-stack-column-chart
                [perZoneData]="chart.hrZoneTrend"
                [dateRange]="reportTime.type === 1 ? 'day' : 'week'"
                [isPreviewMode]="uiFlag.isPreviewMode"
                *ngIf="uiFlag.progress === 100"
              >
              </app-stack-column-chart>
            </div>
          </div>
        </section>
        <ng-container *ngIf="reportConditionOpt.sportType === sportCode.cycle && !uiFlag.noFtpData">
          <section class="report-displaySection">
            <div class="flexCol">
              <div class="cardTitle">
                <h6 class="cardSubtitle">{{ 'universal_activityData_ftpZone' | translate }}</h6>
              </div>
              <div class="flexRow report-rerangeChartLayout">
                <div class="report-zoneChart" style="display: flex; align-items: center;">
                  <app-threshold-chart
                    [data]="chart.thresholdZone"
                    [type]="'mixFtpZone'"
                    (checkData)="this.uiFlag.noFtpData = $event;"
                  ></app-threshold-chart>
                </div>
                <div class="report-infoChart">
                  <app-threshold-info
                    [cycleFtp]="userProfile.cycleFtp"
                  ></app-threshold-info>
                </div>
              </div>
            </div>
          </section>
          <section class="report-displaySection">
            <div class="flexCol">
              <div class="cardTitle">
                <h6 class="cardSubtitle">
                  {{'universal_activityData_ftpZone' | translate}} {{'universal_activityData_trend' | translate}}
                </h6>
              </div>
              <div>
                <app-stack-column-chart
                  [perZoneData]="chart.thresholdZoneTrend"
                  [dateRange]="reportTime.type === 1 ? 'day' : 'week'"
                  *ngIf="uiFlag.progress === 100"
                >
                </app-stack-column-chart>
              </div>
            </div>
          </section>
        </ng-container>
        <section *ngIf="reportConditionOpt.sportType === sportCode.weightTrain">
          <div class="flexCol">
            <div class="cardTitle flexRow report-haveOptBtn">
              <h6 class="cardSubtitle">
                {{'universal_activityData_weightTrainingEffectiveness' | translate}}
              </h6>
              <button (click)="handleShowOpt($event)">
                <i class="icon-svg_web-icon_p1_001-setting"></i>
              </button>
              <div
                class="flexCol report-weightTrainSetting"
                (click)="$event.stopPropagation()"
                *ngIf="uiFlag.showWeightTrainingOpt"
              >
                <span>{{ 'universal_activityData_weightTrainingExtent' | translate }}</span>
                <div class="flexCol" style="position: relative;">
                  <span
                    class="report-dropMenu report-weightTrainMenu"
                    [class.report-dropMenu--active]="uiFlag.showLevelSelector"
                    (click)="handleShowLevelSelector($event)"
                  >
                    <ng-container *ngIf="userInfo.weightTrainLevel === proficiency.novice">
                      {{ 'universal_activityData_beginner' | translate }}
                    </ng-container>
                    <ng-container *ngIf="userInfo.weightTrainLevel === proficiency.metacarpus">
                      {{ 'universal_activityData_advanced' | translate }}
                    </ng-container>
                    <ng-container *ngIf="userInfo.weightTrainLevel === proficiency.asept">
                      {{ 'universal_activityData_highRanker' | translate }}
                    </ng-container>
                  </span>
                  <div class="report-dropMenuList" *ngIf="uiFlag.showLevelSelector">
                    <span class="levelOpt" (click)="changeLevel(proficiency.novice)">
                      {{ 'universal_activityData_beginner' | translate }}
                    </span>
                    <span class="levelOpt" (click)="changeLevel(proficiency.metacarpus)">
                      {{ 'universal_activityData_advanced' | translate }}
                    </span>
                    <span class="levelOpt" (click)="changeLevel(proficiency.asept)">
                      {{ 'universal_activityData_highRanker' | translate }}
                    </span>
                  </div>
                </div>
              </div>
            </div>
            <div>
              <app-muscle-map-chart
                [description]="weightTrainDescription"
                [data]="chart.trainingPart"
                [proficiencyCoefficient]="userInfo.weightTrainLevel"
                [page]="'report'"
                [userWeight]="userInfo.bodyWeight"
                (clickData)="handleTrendChart($event)"
              ></app-muscle-map-chart>
            </div>
          </div>
          <div class="flexCol">
            <div class="cardTitle">
              <h6 class="cardSubtitle">{{'universal_activityData_trainingTrend' | translate}}</h6>
            </div>
            <div>
              <p class="report-areaDescription">
                {{'universal_activityData_trainingTrendDescription' | translate}}
              </p>

              <ng-container *ngFor="let list of chart.muscleTrendList; let idx = index;">
                <div style="margin: 10px 0;" class="flexCol" *ngIf="list.isFocus">
                  <div class="flexRow muscle__chart__list">
                    <div
                      class="flexCol"
                      style="width: 110px; align-items: center;"
                    >
                      <div class="flexRow" style="align-items: center;">
                        <app-muscle-svg-icon
                          style="width: 80px;"
                          [muscleGroupId]="list.id"
                        ></app-muscle-svg-icon>
                        <i
                          class="icon-svg_web-icon_p1_006-unfold fold__icon"
                          *ngIf="list.isFold"
                          (click)="handleChartFold(idx)"
                        ></i>
                        <i
                          class="icon-svg_web-icon_p1_007-fold fold__icon"
                          *ngIf="!list.isFold"
                          (click)="handleChartFold(idx)"
                        ></i>
                      </div>
                      <span class="muscle__name" style=" padding-right: 20px;">
                        {{ list.name }}
                      </span>
                    </div>
                    <app-discolor-column-chart
                      class="muscle__trend__chart"
                      [data]="list.muscleGroupData"
                      [dateRange]="reportTime.type === 1 ? 'day' : 'week'"
                      [sportType]="reportConditionOpt.sportType"
                      [proficiencyCoefficient]="userInfo.weightTrainLevel"
                      [userWeight]="userInfo.bodyWeight"
                      [chartName]="'Muscle'"
                      [isPreviewMode]="uiFlag.isPreviewMode"
                    ></app-discolor-column-chart>
                  </div>
                  <div  *ngIf="!list.isFold">
                    <div *ngFor="let part of list.trainList;">
                      <div class="flexRow muscle__chart__list" style="justify-content: space-between;">
                        <div class="flexCol fold__content">
                          <app-muscle-svg-icon
                            style="width: 80px;"
                            [muscleCode]="[part[0]]"
                          ></app-muscle-svg-icon>
                          <span class="muscle__name">{{ part[0] | muscleName }}</span>
                        </div>
                        <app-discolor-column-chart
                          class="muscle__content__trend__chart"
                          [data]="part[1]"
                          [dateRange]="reportTime.type === 1 ? 'day' : 'week'"
                          [sportType]="reportCategory"
                          [proficiencyCoefficient]="userInfo.weightTrainLevel"
                          [userWeight]="userInfo.bodyWeight"
                          [chartName]="'Muscle'"
                          [isPreviewMode]="uiFlag.isPreviewMode"
                        ></app-discolor-column-chart>
                      </div>
                    </div>
                  </div>
                </div>
              </ng-container>
            </div>
          </div>
        </section>
        <section class="report-displaySection pageBreakAvoid">
          <div class="flexCol">
            <div class="cardTitle">
              <h6 class="cardSubtitle">
                {{'universal_activityData_trend' | translate}}
              </h6>
            </div>
            <div>
              <app-fillet-column-chart
                [data]="chart.strokeTrend"
                [dateRange]="reportTime.type === 1 ? 'day' : 'week'"
                [chartName]="'StrokeNum'"
                [page]="'sportReport'"
                [isPreviewMode]="uiFlag.isPreviewMode"
                *ngIf="uiFlag.progress === 100 && reportTime.type === 2"
              >
              </app-fillet-column-chart>
              <app-fillet-column-chart
                [data]="chart.totalTimeTrend"
                [dateRange]="reportTime.type === 1 ? 'day' : 'week'"
                [chartName]="'TotalTime'"
                [sportType]="reportConditionOpt.sportType"
                [page]="'sportReport'"
                [isPreviewMode]="uiFlag.isPreviewMode"
                *ngIf="uiFlag.progress === 100"
              >
              </app-fillet-column-chart>
              <app-compare-line-chart
                [data]="chart.hrTrend"
                [dateRange]="reportTime.type === 1 ? 'day' : 'week'"
                [chartName]="'HR'"
                [hrZoneRange]="hrInfo"
                [page]="'sportReport'"
                [isPreviewMode]="uiFlag.isPreviewMode"
                *ngIf="uiFlag.progress === 100"
              >
              </app-compare-line-chart>
              <app-fillet-column-chart
                [data]="chart.caloriesTrend"
                [dateRange]="reportTime.type === 1 ? 'day' : 'week'"
                [chartName]="'Calories'"
                [page]="'sportReport'"
                [isPreviewMode]="uiFlag.isPreviewMode"
                *ngIf="uiFlag.progress === 100"
              >
              </app-fillet-column-chart>
              <app-fillet-column-chart
                [data]="chart.distanceTrend"
                [dateRange]="reportTime.type === 1 ? 'day' : 'week'"
                [chartName]="'Distance'"
                [page]="'sportReport'"
                [unit]="userInfo.unit"
                [isPreviewMode]="uiFlag.isPreviewMode"
                *ngIf="
                  uiFlag.progress === 100
                  && [
                    sportCode.run,
                    sportCode.cycle,
                    sportCode.swim,
                    sportCode.row,
                    sportCode.ball
                  ].includes(reportConditionOpt.sportType)
                "
              >
              </app-fillet-column-chart>
              <app-discolor-column-chart
                [data]="chart.speedPaceTrend"
                [dateRange]="reportTime.type === 1 ? 'day' : 'week'"
                [chartName]="'Speed'"
                [sportType]="reportConditionOpt.sportType"
                [page]="'sportReport'"
                [unit]="userInfo.unit"
                [isPreviewMode]="uiFlag.isPreviewMode"
                *ngIf="uiFlag.progress === 100 && [sportCode.cycle, sportCode.ball].includes(reportConditionOpt.sportType)"
              >
              </app-discolor-column-chart>
              <app-discolor-column-chart
                [data]="chart.speedPaceTrend"
                [dateRange]="reportTime.type === 1 ? 'day' : 'week'"
                [chartName]="'Pace'"
                [sportType]="reportConditionOpt.sportType"
                [page]="'sportReport'"
                [unit]="userInfo.unit"
                [isPreviewMode]="uiFlag.isPreviewMode"
                *ngIf="uiFlag.progress === 100 && [sportCode.run, sportCode.swim, sportCode.row].includes(reportConditionOpt.sportType)"
              >
              </app-discolor-column-chart>
              <app-compare-line-chart
                [data]="chart.powerTrend"
                [dateRange]="reportTime.type === 1 ? 'day' : 'week'"
                [chartName]="'Power'"
                [page]="'sportReport'"
                [isPreviewMode]="uiFlag.isPreviewMode"
                *ngIf="uiFlag.progress === 100 && [sportCode.cycle, sportCode.row].includes(reportConditionOpt.sportType)"
              >
              </app-compare-line-chart>
              <app-discolor-column-chart
                [data]="chart.cadenceTrend"
                [dateRange]="reportTime.type === 1 ? 'day' : 'week'"
                [chartName]="'Cadence'"
                [sportType]="reportConditionOpt.sportType"
                [page]="'sportReport'"
                [unit]="userInfo.unit"
                [isPreviewMode]="uiFlag.isPreviewMode"
                *ngIf="
                  uiFlag.progress === 100
                  && [sportCode.run, sportCode.cycle, sportCode.swim, sportCode.row].includes(reportConditionOpt.sportType)
                "
              >
              </app-discolor-column-chart>
              <app-discolor-column-chart
                [data]="chart.swolfTrend"
                [dateRange]="reportTime.type === 1 ? 'day' : 'week'"
                [chartName]="'Swolf'"
                [sportType]="reportConditionOpt.sportType"
                [page]="'sportReport'"
                [unit]="userInfo.unit"
                [isPreviewMode]="uiFlag.isPreviewMode"
                *ngIf="
                  uiFlag.progress === 100
                  && reportConditionOpt.sportType === sportCode.swim
                  && chart.swolfTrend.avgSwolf !== 0
                "
              >
              </app-discolor-column-chart>
            <!-- wb002 138版 不支援totalPlusGforce、totalMinusGforce
              <app-fillet-column-chart
                [data]="chart.planeAcceleration"
                [dateRange]="reportTime.type === 1 ? 'day' : 'week'"
                [chartName]="'PlaneGForce'"
                [page]="'sportReport'"
                [isPreviewMode]="uiFlag.isPreviewMode"
                *ngIf="uiFlag.progress === 100 && [sportCode.ball].includes(reportConditionOpt.sportType)"
              >
              </app-fillet-column-chart>
              <ng-container *ngIf="userInfo.accessRight[0] <= 20">
                <app-relative-column-chart
                  [data]="chart.totalXAxisMoveTrend"
                  [dateRange]="reportTime.type === 1 ? 'day' : 'week'"
                  [chartName]="'TotalXGForce'"
                  [sportType]="reportConditionOpt.sportType"
                  [page]="'sportReport'"
                  [isPreviewMode]="uiFlag.isPreviewMode"
                  *ngIf="uiFlag.progress === 100 && [sportCode.ball].includes(reportConditionOpt.sportType)"
                >
                </app-relative-column-chart>
                <app-relative-column-chart
                  [data]="chart.totalYAxisMoveTrend"
                  [dateRange]="reportTime.type === 1 ? 'day' : 'week'"
                  [chartName]="'TotalYGForce'"
                  [sportType]="reportConditionOpt.sportType"
                  [page]="'sportReport'"
                  [isPreviewMode]="uiFlag.isPreviewMode"
                  *ngIf="uiFlag.progress === 100 && [sportCode.ball].includes(reportConditionOpt.sportType)"
                >
                </app-relative-column-chart>
              </ng-container>
              <app-relative-column-chart
                [data]="chart.totalZAxisMoveTrend"
                [dateRange]="reportTime.type === 1 ? 'day' : 'week'"
                [chartName]="'TotalZGForce'"
                [sportType]="reportConditionOpt.sportType"
                [page]="'sportReport'"
                [isPreviewMode]="uiFlag.isPreviewMode"
                *ngIf="uiFlag.progress === 100 && [sportCode.ball].includes(reportConditionOpt.sportType)"
              >
              </app-relative-column-chart>
            -->
              <app-fillet-column-chart
                [data]="chart.extremePlaneGForce"
                [dateRange]="reportTime.type === 1 ? 'day' : 'week'"
                [chartName]="'PlaneMaxGForce'"
                [page]="'sportReport'"
                [isPreviewMode]="uiFlag.isPreviewMode"
                *ngIf="uiFlag.progress === 100 && [sportCode.ball].includes(reportConditionOpt.sportType)"
              >
              </app-fillet-column-chart>
              <ng-container *ngIf="userInfo.accessRight[0] <= 20">
                <app-compare-line-chart
                  [data]="chart.extremeXGForce"
                  [dateRange]="reportTime.type === 1 ? 'day' : 'week'"
                  [chartName]="'ExtremeXGForce'"
                  [page]="'sportReport'"
                  [isPreviewMode]="uiFlag.isPreviewMode"
                  *ngIf="uiFlag.progress === 100 && [sportCode.ball].includes(reportConditionOpt.sportType)"
                >
                </app-compare-line-chart>
                <app-compare-line-chart
                  [data]="chart.extremeYGForce"
                  [dateRange]="reportTime.type === 1 ? 'day' : 'week'"
                  [chartName]="'ExtremeYGForce'"
                  [page]="'sportReport'"
                  [isPreviewMode]="uiFlag.isPreviewMode"
                  *ngIf="uiFlag.progress === 100 && [sportCode.ball].includes(reportConditionOpt.sportType)"
                >
                </app-compare-line-chart>
              </ng-container>
              <app-compare-line-chart
                [data]="chart.extremeZGForce"
                [dateRange]="reportTime.type === 1 ? 'day' : 'week'"
                [chartName]="'ExtremeZGForce'"
                [page]="'sportReport'"
                [isPreviewMode]="uiFlag.isPreviewMode"
                *ngIf="uiFlag.progress === 100 && [sportCode.ball].includes(reportConditionOpt.sportType)"
              >
              </app-compare-line-chart>
              <app-discolor-column-chart
                [data]="chart.swingSpeed"
                [dateRange]="reportTime.type === 1 ? 'day' : 'week'"
                [chartName]="'SwingSpeed'"
                [sportType]="reportConditionOpt.sportType"
                [page]="'sportReport'"
                [unit]="userInfo.unit"
                [isPreviewMode]="uiFlag.isPreviewMode"
                *ngIf="
                  uiFlag.progress === 100
                  && reportConditionOpt.sportType === sportCode.ball
                  && chart.swingSpeed.maxSpeed !== 0
                "
              >
              </app-discolor-column-chart>
              <app-relative-column-chart
                  [data]="chart.swingRatio"
                  [dateRange]="reportTime.type === 1 ? 'day' : 'week'"
                  [chartName]="'SwingRatio'"
                  [sportType]="reportConditionOpt.sportType"
                  [page]="'sportReport'"
                  [isPreviewMode]="uiFlag.isPreviewMode"
                  *ngIf="
                    uiFlag.progress === 100
                    && reportConditionOpt.sportType === sportCode.ball
                    && (
                      chart.swingRatio.maxForehandCount !== 0
                      || chart.swingRatio.maxBackhandCount !== 0
                    )
                  "
                >
                </app-relative-column-chart>
            </div>
          </div>
        </section>
      </ng-container>
    </div>
    <div *ngIf="uiFlag.isPreviewMode && uiFlag.progress === 100" class="printMark">
      GPTFit
    </div>
  </div>
</div>