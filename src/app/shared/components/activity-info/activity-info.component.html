<ng-progress
  #progressBar
  [meteor]="_options.meteor"
  [color]="_options.color"
  [min]="_options.min"
  [speed]="_options.speed"
  [spinner]="_options.spinner"
  [max]="_options.max"
  [spinnerPosition]="_options.spinnerPosition"
  [direction]="_options.direction"
  [thick]="_options.thick"
  [trickleSpeed]="_options.trickleSpeed"
  [ease]="_options.ease"
>
</ng-progress>
<div *ngIf="isShowNoRight">
  <div style="display: flex;flex-direction: column;align-items: center;">
    <i class="icon-svg_web-icon_p1_059-lock" style="font-size: 100px;color: #999"></i>
    <p class="h5"
      style="margin-top: 30px;color: #333;"
    >It looks like you don't have access privileges to view this activity.</p>
  </div>
</div>
<ng-container *ngIf="!isShowNoRight">
  <div [style.visibility]="isLoading ? 'hidden': 'visible'"
    [class.container]="isPortal"
    [style.padding-top]="isPortal ? '15px' : '0px'"
  >
    <div [class.isBrandIcon]="brandIcon.length > 0">
      <div style="display: flex;align-items: center;min-width: 300px;width:100%">
        <!-- <div class="user-photo" style="width: 64px;height: 64px;"> -->
          <img *ngIf="brandIcon.length > 0"
            [src]="brandIcon"
          >
        <!-- </div> -->
        <span style="font-weight: 900;font-size:30px;margin-left:20px">
          <!-- {{brandName}} -->
        </span>
      </div>
      <div class="group-edit-bar" style="justify-content: flex-end; width:100%;" [class.hideTwoButton]="hideTwoButton">
        <span class="sportsRecord-text">
          {{'SH.sportsRecord' | translate}}
          <div>
            {{ printFileDate }}
          </div>
        </span>
        <button class="alatech-btn alatech-btn--default activty-btn"
          title="{{'SH.print' | translate}}"
          (click)="print()"
          *ngIf="isPrevieMode"
        >
          {{'SH.print' | translate}}
        </button>
        <button class="alatech-btn--default"
          (click)="goBack()"
          *ngIf="!isPrevieMode"
          style="border: none;"
          style="display: none;"
        >
          <i class="icon-svg_web-icon_p1_013-share activity-info_icon_size"></i>
        </button>
        <button class="alatech-btn--default"
          (click)="goBack()"
          *ngIf="!isPrevieMode"
          style="border: none;"
          style="display: none;"
        >
          <i class="icon-svg_web-icon_p1_008-edit activity-info_icon_size"></i>
        </button>
        <button class="alatech-btn--default"
          (click)="goBack()"
          *ngIf="!isPrevieMode"
          style="border: none;"
          style="display: none;"
        >
          <i class="icon-svg_web-icon_p1_059-lock activity-info_icon_size"></i>
        </button>
        <a  target="_blank"
          [href]="previewUrl"
          class="alatech-btn--default"
          *ngIf="!isPrevieMode"
        >
          <i class="icon-svg_web-icon_p2_087-print activity-info_icon_size"></i>
        </a>
        <button class="alatech-btn--default"
          (click)="goBack()"
          *ngIf="!isPrevieMode"
          style="border: none;"
        >
          <i class="icon-svg_web-icon_p1_012-close activity-info_icon_size"></i>
        </button>
      </div>
    </div>

    <div class="ala-dashboard-title activty-title">
      {{'Dashboard.ActivityDetail.summary' | translate}}
    </div>
    <div class="activity-block">
      <p style="color: #919191">
        {{ fileInfo?.dispName}} {{'SH.by' | translate}}
        <span class="activity-author"
          (click)="goToProfile()"
        >
          {{userLink?.userName}}
        </span>
        <ng-container *ngIf="userLink?.userName.length > 0">{{'SH.record' | translate}}  ，</ng-container>{{infoDate}} {{'SH.create' | translate}}
      </p>
      <div class="d-flex" style="align-items:center">
        <div class="activty-icon">
          <i *ngIf="activityInfo?.type === '1'"
            class="icon-svg_web-icon_p1_083-run"
          ></i>
          <i *ngIf="activityInfo?.type === '2'"
            class="icon-svg_web-icon_p1_084-cycle"
          ></i>
          <i *ngIf="activityInfo?.type === '3'"
            class="icon-svg_web-icon_p1_086-weight_training"
          ></i>
          <i *ngIf="activityInfo?.type === '4'"
            class="icon-svg_web-icon_p1_085-swim"
          ></i>
          <i *ngIf="activityInfo?.type === '5'"
            class="icon-svg_web-icon_p1_087-aerobic"
          ></i>
          <i *ngIf="activityInfo?.type === '6'"
            class="icon-svg_web-icon_p1_088-row"
          ></i>
        </div>
        <span style="color: #919191;margin-left: 15px;font-size: 26px;">
          {{fileInfo?.dispName}}
        </span>
      </div>
      <div class="summary-info">
        <div class="summary-item">
          <div class="activty-info-data-value">{{activityInfo?.totalSecond | sportTime}}</div>
          <div class="activty-info-data-name">{{'Dashboard.MyActivity.totalTime' | translate}}</div>
        </div>
        <div class="summary-item"
          *ngIf="activityInfo?.totalActivitySecond"
        >
          <div class="activty-info-data-value">{{activityInfo?.totalActivitySecond | sportTime}}</div>
          <div class="activty-info-data-name">{{'Dashboard.MyActivity.activityTime' | translate}}</div>
        </div>
        <div class="summary-item"
          *ngIf="activityInfo?.totalRestSecond"
        >
          <div class="activty-info-data-value">{{activityInfo?.totalRestSecond | sportTime}}</div>
          <div class="activty-info-data-name">{{'Dashboard.MyActivity.restTime' | translate}}</div>
        </div>
        <div *ngIf="activityInfo?.type !== '4' && activityInfo?.type !== '6'"
          class="summary-item"
        >
          <div class="activty-info-data-value activity-info-data-unit">{{activityInfo?.avgHeartRateBpm}}
            <span class="data-label">bpm</span>
          </div>
          <div class="activty-info-data-name">{{'SH.avgHr' | translate}}</div>
        </div>
        <div *ngIf="activityInfo?.type !== '4' && activityInfo?.type !== '6'"
          class="summary-item"
        >
          <div class="activty-info-data-value activity-info-data-unit">{{activityInfo?.maxHeartRateBpm}}
            <span class="data-label">bpm</span>
          </div>
          <div class="activty-info-data-name">{{'SH.maxHr' | translate}}</div>
        </div>
        <div class="summary-item">
          <div class="activty-info-data-value activity-info-data-unit">{{activityInfo?.calories}}
            <span class="data-label">cal</span>
          </div>
          <div class="activty-info-data-name">{{'SH.calories' | translate}}</div>
        </div>
        <div *ngIf="activityInfo?.type !== '3' && activityInfo?.type !== '5'"
          class="summary-item"
        >
          <div class="activty-info-data-value activity-info-data-unit">{{activityInfo?.totalDistanceMeters / 1000}}
            <span class="data-label">km</span>
          </div>
          <div class="activty-info-data-name">{{'SH.totalDistance' | translate}}</div>
        </div>
        <div *ngIf="activityInfo?.type !== '3' && activityInfo?.type !== '5'"
          class="summary-item"
        >
          <div class="activty-info-data-value activity-info-data-unit">{{activityInfo?.avgSpeed | sportPace: activityInfo?.type}}
            <span *ngIf="activityInfo?.type === '1'" class="data-label">1min/1km</span>
            <span *ngIf="activityInfo?.type === '4'" class="data-label">1min/100m</span>
            <span *ngIf="activityInfo?.type === '6'" class="data-label">1min/500m</span>
            <span *ngIf="activityInfo?.type !== '4' && activityInfo?.type !== '1' && activityInfo?.type !== '6'"class="data-label">km/h</span>
          </div>
          <div class="activty-info-data-name">
            <span *ngIf="activityInfo?.type === '1' || activityInfo?.type === '4' || activityInfo?.type === '6'">
              {{'SH.avgPace' | translate}}
            </span>
            <span *ngIf="activityInfo?.type !== '4' && activityInfo?.type !== '1' && activityInfo?.type !== '6'">
              {{'SH.avgSpeed' | translate}}
            </span>
          </div>
        </div>
        <div *ngIf="activityInfo?.type === '2' && activityInfo?.elevGain"
          class="summary-item"
        >
          <div class="activty-info-data-value activity-info-data-unit">{{activityInfo?.elevGain || 0 }}
            <span class="data-label">m</span>
          </div>
          <div class="activty-info-data-name">{{'Dashboard.MyActivity.climbGain' | translate}}</div>
        </div>
        <div *ngIf="activityInfo?.type === '3'"
          class="summary-item"
        >
          <div class="activty-info-data-value activity-info-data-unit">{{activityInfo?.weightTrainingInfo?.totalWeightKg || 0 }}
            <span class="data-label">kg</span>
          </div>
          <div class="activty-info-data-name">{{'SH.totalWeight' | translate}}</div>
        </div>
        <div *ngIf="activityInfo?.type === '3'"
          class="summary-item"
        >
          <div class="activty-info-data-value activity-info-data-unit">{{activityInfo?.weightTrainingInfo?.totalReps || 0 }}
            <span class="data-label">reps</span>
          </div>
          <div class="activty-info-data-name">{{ 'SH.totalReps' | translate}}</div>
        </div>
        <div *ngIf="activityInfo?.type === '3'"
          class="summary-item"
        >
          <div class="activty-info-data-value activity-info-data-unit">{{activityInfo?.weightTrainingInfo?.max1RmWeightKg || 0 }}
            <span class="data-label">kg</span>
          </div>
          <div class="activty-info-data-name">{{ 'SH.maxBig' | translate}}1RM</div>
        </div>
        <div *ngIf="activityInfo?.type === '4'"
          class="summary-item"
        >
          <div class="activty-info-data-value activity-info-data-unit">{{activityInfo?.swimAvgCadence || 0 }}
            <span class="data-label">spm</span>
          </div>
          <div class="activty-info-data-name">{{'Dashboard.MyActivity.avgSwimReps' | translate}}</div>
        </div>
        <div *ngIf="activityInfo?.type === '6'"
          class="summary-item"
        >
          <div class="activty-info-data-value activity-info-data-unit">{{activityInfo?.rowingAvgCadence || 0 }}
            <span class="data-label">rpm</span>
          </div>
          <div class="activty-info-data-name">{{'Dashboard.MyActivity.avgRowCadence' | translate}}</div>
        </div>
      </div>
    </div>
    <ng-container *ngIf="isShowMap">
      <div class="ala-dashboard-title activty-title">
        {{'Dashboard.MyActivity.map' | translate}}
      </div>
      <div style="margin-top: 15px;" *ngIf="!isHideMapRadioBtn">
        <mat-radio-group  [(ngModel)]="mapKind" style="display: flex;">
          <mat-radio-button value="1"
            (change)="handleMapKind($event)"
          >Google</mat-radio-button>
          <mat-radio-button value="2"
            (change)="handleMapKind($event)"
            color="primary"
          >Baidu</mat-radio-button>
        </mat-radio-group>
      </div>
      <div style="position: relative;">
        <div [style.transform]="mapKind === '1' ? 'translateY(-252%)' : 'translateY(0%)'"
          #bmap
          style="height: 400px"
          [style.height]="mapKind === '1' ? '0px' : '400px'"
        ></div>

        <div [style.transform]="mapKind === '2' ? 'translateY(-370%)' : 'translateY(0%)'"
          #gmap
          style="margin-bottom: 15px;height: 400px"
          [style.height]="mapKind === '2' ? '0px' : '400px'"
        ></div>
        <!-- <button class="map-play" (click)="playGpx()"
          *ngIf="!isPlayingGpx"
        >
          <i class="material-icons">
          play_arrow
          </i>
        </button>
        <button class="map-play" (click)="stopPlayGpx()"
          *ngIf="isPlayingGpx"
        >
          <i class="material-icons">
            pause
          </i>
        </button> -->
      </div>
    </ng-container>

    <div class="ala-dashboard-title activty-title">
      {{'Dashboard.MyActivity.chart' | translate}}
    </div>
    <ng-container *ngIf="isdisplayHcharts">
      <div #container>
        <div class="activity-block" *ngIf="!(isInitialChartDone && !isspeedChartTargetDisplay)">
          <div #speedChartTarget class="chart"
           [class.hidden]="!isspeedChartTargetDisplay"
          >
            chart target
          </div>
        </div>
        <div class="activity-block" *ngIf="!(isInitialChartDone && !ishrChartTargetDisplay)">
          <div #hrChartTarget class="chart"
           [class.hidden]="!ishrChartTargetDisplay"
          >
            chart target
          </div>
        </div>
        <div class="activity-block" *ngIf="!(isInitialChartDone && !iscadenceChartTargetDisplay)">
          <div #cadenceChartTarget class="chart"
            [class.hidden]="!iscadenceChartTargetDisplay"
          >
            chart target
          </div>
        </div>
        <div class="activity-block" *ngIf="!(isInitialChartDone && !ispaceChartTargetDisplay)">
          <div #paceChartTarget class="chart"
            [class.hidden]="!ispaceChartTargetDisplay"
          >
            chart target
          </div>
        </div>
        <div class="activity-block" *ngIf="!(isInitialChartDone && !iselevationChartTargetDisplay)">
          <div #elevationChartTarget class="chart"
            [class.hidden]="!iselevationChartTargetDisplay"
          >
            chart target
          </div>
        </div>
        <div class="activity-block" *ngIf="!(isInitialChartDone && !istempChartTargetDisplay)">
          <div #tempChartTarget class="chart"
            [class.hidden]="!istempChartTargetDisplay"
          >
            chart target
          </div>
        </div>
        <div class="activity-block" *ngIf="!(isInitialChartDone && !iswattChartTargetDisplay)">
          <div #wattChartTarget class="chart"
            [class.hidden]="!iswattChartTargetDisplay"
          >
            chart target
          </div>
        </div>
        <div class="activity-block" *ngIf="!(isInitialChartDone && !iszoneChartTargetDisplay)">
          <div #zoneChartTarget class="chart"
            [class.hidden]="!iszoneChartTargetDisplay"
          >
            chart target
          </div>
        </div>
      </div>
    </ng-container>
    <p style="page-break-inside:avoid">
      <mat-tab-group>
        <mat-tab label="{{'Dashboard.MyActivity.detailsData' | translate}}">
          <div class="d-flex" style="flex-wrap: wrap;width:100%">
            <div class="activity-info__area">
              <div class="ala-dashboard-title activty-title">
                {{'Dashboard.MyActivity.timing' | translate}}
              </div>
              <div class="activity-info__area--block">
                <div>
                  {{activityInfo?.totalSecond | sportTime}}
                </div>
                <span class="data-label">
                  {{'Dashboard.MyActivity.totalTime' | translate}}
                </span>
              </div>
              <div class="activity-info__area--block"
                *ngIf="activityInfo?.totalActivitySecond"
              >
                <div>
                  {{activityInfo?.totalActivitySecond | sportTime}}
                </div>
                <span class="data-label">
                  {{'Dashboard.MyActivity.movingTime' | translate}}
                </span>
              </div>
              <div class="activity-info__area--block"
                *ngIf="activityInfo?.totalRestSecond"
              >
                <div>
                  {{activityInfo?.totalRestSecond | sportTime}}
                </div>
                <span class="data-label">
                  {{'Dashboard.MyActivity.restTime' | translate}}
                </span>
              </div>
            </div>
            <div class="activity-info__area"
*ngIf="activityInfo?.type !== '2' && activityInfo?.type !== '3' && activityInfo?.type !== '5' &&
(activityInfo?.avgSpeed || activityInfo?.avgMoveSpeed || activityInfo?.maxSpeed)"
            >
              <div class="ala-dashboard-title activty-title">
                <span *ngIf="activityInfo?.type === '1'">
                  1km{{'SH.pace' | translate}}
                </span>
                <span *ngIf="activityInfo?.type === '4'">
                  100m{{'SH.pace' | translate}}
                </span>
                <span *ngIf="activityInfo?.type === '6'">
                  500m{{'SH.pace' | translate}}
                  </span>
              </div>
              <div class="activity-info__area--block" *ngIf="activityInfo?.avgSpeed">
                <div>
                  {{activityInfo?.avgSpeed | sportPace: activityInfo?.type}}
                  <span *ngIf="activityInfo?.type === '1'" class="data-label">min/km</span>
                  <span *ngIf="activityInfo?.type === '4'" class="data-label">min/km</span>
                  <span *ngIf="activityInfo?.type === '6'" class="data-label">min/km</span>
                </div>
                <div class="data-label">
                  <span>
                    {{'SH.avgPace' | translate}}
                  </span>
                </div>
              </div>
              <div class="activity-info__area--block" *ngIf="activityInfo?.avgMoveSpeed">
                <div>
                  {{activityInfo?.avgMoveSpeed | sportPace: activityInfo?.type}}
                  <span *ngIf="activityInfo?.type === '1'" class="data-label">min/km</span>
                  <span *ngIf="activityInfo?.type === '4'" class="data-label">min/km</span>
                  <span *ngIf="activityInfo?.type === '6'" class="data-label">min/km</span>
                </div>
                <div class="data-label">
                  <span>
                    {{'Dashboard.MyActivity.avgPace' | translate}}
                  </span>
                </div>
              </div>
              <div class="activity-info__area--block" *ngIf="activityInfo?.maxSpeed">
                <div>
                  {{activityInfo?.maxSpeed | sportPace: activityInfo?.type}}
                  <span *ngIf="activityInfo?.type === '1'" class="data-label">min/km</span>
                  <span *ngIf="activityInfo?.type === '4'" class="data-label">min/km</span>
                  <span *ngIf="activityInfo?.type === '6'" class="data-label">min/km</span>
                </div>
                <div class="data-label">
                  <span>
                    {{'Dashboard.MyActivity.liveBestPace' | translate}}
                  </span>
                </div>
              </div>
            </div>
            <div class="activity-info__area"
              *ngIf="activityInfo?.type !== '3' && activityInfo?.type !== '5'"
            >
              <div class="ala-dashboard-title activty-title">
                {{'SH.speed' | translate}}
              </div>
              <div class="activity-info__area--block">
                <div>
                  {{activityInfo?.avgSpeed || 0}}
                  <span class="data-label">km/h</span>
                </div>
                <span class="data-label">
                  {{'SH.avgSpeed' | translate}}
                </span>
              </div>
              <div class="activity-info__area--block">
                <div>
                  {{activityInfo?.avgMoveSpeed || 0}}
                  <span class="data-label">km/h</span>
                </div>
                <span class="data-label">
                  {{'Dashboard.MyActivity.avgMovingSpeed' | translate}}
                </span>
              </div>
              <div class="activity-info__area--block">
                <div>
                  {{activityInfo?.maxSpeed || 0}}
                  <span class="data-label">km/h</span>
                </div>
                <span class="data-label">
                  {{'Dashboard.MyActivity.maxSpeed' | translate}}
                </span>
              </div>
            </div>
            <div class="activity-info__area"
              *ngIf="activityInfo?.type !== '4' && activityInfo?.type !== '6'"
            >
              <div class="ala-dashboard-title activty-title">
                {{'SH.hr' | translate}}
              </div>
              <div class="activity-info__area--block">
                <div>
                  {{activityInfo?.avgHeartRateBpm}}
                  <span class="data-label">bpm</span>
                </div>
                <span class="data-label">
                  {{ 'SH.avgHr' | translate}}
                </span>
              </div>
              <div class="activity-info__area--block">
                <div>
                  {{activityInfo?.maxHeartRateBpm}}
                  <span class="data-label">bpm</span>
                </div>
                <span class="data-label">
                  {{ 'SH.maxHr' | translate}}
                </span>
              </div>
            </div>
            <div class="activity-info__area"
              *ngIf="activityInfo?.type === '1'"
            >
              <div class="ala-dashboard-title activty-title">
                {{'Dashboard.MyActivity.runDynamics' | translate}}
              </div>
              <div class="activity-info__area--block">
                <div>
                  {{activityInfo?.runAvgCadence || 0}}
                  <span class="data-label">spm</span>
                </div>
                <span class="data-label">
                  {{'Dashboard.MyActivity.avgStepCadence' | translate}}
                </span>
              </div>
              <div class="activity-info__area--block">
                <div>
                  {{activityInfo?.runMaxCadence || 0}}
                  <span class="data-label">spm</span>
                </div>
                <span class="data-label">
                  {{'Dashboard.MyActivity.maxStepCadence' | translate}}
                </span>
              </div>
              <div class="activity-info__area--block">
                <div>
                  {{activityInfo?.avgStrideLengthCentimeter || 0}}
                  <span class="data-label">cm</span>
                </div>
                <span class="data-label">
                  {{'Dashboard.MyActivity.avgStepLength' | translate}}
                </span>
              </div>
            </div>
            <div class="activity-info__area"
              *ngIf="activityInfo?.type === '2'"
            >
              <div class="ala-dashboard-title activty-title">
                {{'Dashboard.MyActivity.cyclingDynamics' | translate}}
              </div>
              <div class="activity-info__area--block">
                <div>
                  {{activityInfo?.cycleAvgCadence || 0}}
                  <span class="data-label">rpm</span>
                </div>
                <span class="data-label">
                  {{'Dashboard.MyActivity.avgCyclingCadence' | translate}}
                </span>
              </div>
              <div class="activity-info__area--block">
                <div>
                  {{activityInfo?.cycleMaxCadence || 0}}
                  <span class="data-label">rpm</span>
                </div>
                <span class="data-label">
                  {{'Dashboard.MyActivity.maxCyclingCadence' | translate}}
                </span>
              </div>
            </div>
            <div class="activity-info__area"
              *ngIf="(activityInfo?.type === '1'|| activityInfo?.type === '2') &&
                (activityInfo?.elevGain || activityInfo?.elevLoss)"
            >
              <div class="ala-dashboard-title activty-title">
                {{'Dashboard.MyActivity.climb' | translate}}
              </div>
              <div class="activity-info__area--block"
                *ngIf="activityInfo?.elevGain"
              >
                <div>
                  {{activityInfo?.elevGain || 0}}
                  <span class="data-label">m</span>
                </div>
                <span class="data-label">
                  {{'Dashboard.MyActivity.climbGain' | translate}}
                </span>
              </div>
              <div class="activity-info__area--block"
                *ngIf="activityInfo?.elevLoss"
              >
                <div>
                  {{activityInfo?.elevLoss || 0}}
                  <span class="data-label">m</span>
                </div>
                <span class="data-label">
                  {{'Dashboard.MyActivity.climbLoss' | translate}}
                </span>
              </div>
            </div>
            <div class="activity-info__area"
              *ngIf="(
              (activityInfo?.type === '2' &&
              (activityInfo?.cycleAvgWatt || activityInfo?.cycleMaxWatt))
              || (activityInfo?.type === '6' &&
              (activityInfo?.rowingAvgWatt || activityInfo?.rowingMaxWatt)
              ))"
            >
              <div class="ala-dashboard-title activty-title">
                {{'SH.power' | translate}}
              </div>
              <div class="activity-info__area--block"
                *ngIf="activityInfo?.cycleAvgWatt || activityInfo?.rowingAvgWatt"
              >
                <div *ngIf="activityInfo?.type === '2'">
                  {{activityInfo?.cycleAvgWatt || 0}}
                  <span class="data-label">w</span>
                </div>
                <div *ngIf="activityInfo?.type === '6'">
                  {{activityInfo?.rowingAvgWatt || 0}}
                  <span class="data-label">w</span>
                </div>
                <span class="data-label">
                  {{'Dashboard.MyActivity.avgPower' | translate}}
                </span>
              </div>
              <div class="activity-info__area--block"
                *ngIf="activityInfo?.cycleMaxWatt || activityInfo?.rowingMaxWatt"
              >
                <div *ngIf="activityInfo?.type === '2'">
                  {{activityInfo?.cycleMaxWatt || 0}}
                  <span class="data-label">w</span>
                </div>
                <div *ngIf="activityInfo?.type === '6'">
                  {{activityInfo?.rowingMaxWatt || 0}}
                  <span class="data-label">w</span>
                </div>
                <span class="data-label">
                  {{'Dashboard.MyActivity.maxPower' | translate}}
                </span>
              </div>
            </div>
            <div class="activity-info__area"
              *ngIf="(activityInfo?.type === '1'|| activityInfo?.type === '2') &&
              (activityInfo?.maxElev|| activityInfo?.minElev)"
            >
              <div class="ala-dashboard-title activty-title">
                {{'Dashboard.MyActivity.altitude' | translate}}
              </div>
              <div class="activity-info__area--block"
                *ngIf="activityInfo?.maxElev"
              >
                <div>
                  {{activityInfo?.maxElev || 0}}
                  <span class="data-label">m</span>
                </div>
                <span class="data-label">
                  {{'Dashboard.MyActivity.maxAltitude' | translate}}
                </span>
              </div>
              <div class="activity-info__area--block"
                *ngIf="activityInfo?.minElev"
              >
                <div>
                  {{activityInfo?.minElev || 0}}
                  <span class="data-label">m</span>
                </div>
                <span class="data-label">
                  {{'Dashboard.MyActivity.minAltitude' | translate}}
                </span>
              </div>
            </div>
            <div class="activity-info__area"
              *ngIf="(activityInfo?.type !== '4'&& activityInfo?.type !== '6') &&
              (activityInfo?.maxTemp || activityInfo?.minTemp)"
            >
              <div class="ala-dashboard-title activty-title">
                {{'Dashboard.MyActivity.temperature' | translate}}
              </div>
              <div class="activity-info__area--block"
              *ngIf="activityInfo?.maxTemp"
              >
                <div>
                  {{activityInfo?.maxTemp || 0}}
                  <span class="data-label">°C</span>
                </div>
                <span class="data-label">
                  {{'Dashboard.MyActivity.maxTemperature' | translate}}
                </span>
              </div>
              <div class="activity-info__area--block"
                *ngIf="activityInfo?.minTemp"
              >
                <div>
                  {{activityInfo?.minTemp || 0}}
                  <span class="data-label">°C</span>
                </div>
                <span class="data-label">
                  {{'Dashboard.MyActivity.lowTemperature' | translate}}
                </span>
              </div>
            </div>
            <!-- to fix -->
            <div class="activity-info__area"
              *ngIf="activityInfo?.type === '3'"
            >
              <div class="ala-dashboard-title activty-title">
                {{'Dashboard.MyActivity.musclePart' | translate}}
              </div>
              <div class="activity-info__area--block">
                <div>
                  {{activityInfo?.weightTrainingInfo?.max1RmWeightKg || 0}}
                  <span class="data-label">kg</span>
                </div>
                <span class="data-label">
                  {{'SH.maxBig' | translate}}1RM
                </span>
              </div>
              <div class="activity-info__area--block">
                <div>
                  {{activityInfo?.weightTrainingInfo?.totalWeightKg || 0}}
                  <span class="data-label">kg</span>
                </div>
                <span class="data-label">
                  {{'Dashboard.MyActivity.cumulativeWeight' | translate}}
                </span>
              </div>
              <div class="activity-info__area--block">
                <div>
                  {{activityInfo?.weightTrainingInfo?.totalSets || 0}}
                  <span class="data-label">sets</span>
                </div>
                <span class="data-label">
                  {{'Dashboard.MyActivity.cumulativeSets' | translate}}
                </span>
              </div>
              <div class="activity-info__area--block">
                <div>
                  {{activityInfo?.weightTrainingInfo?.totalReps || 0}}
                  <span class="data-label">reps</span>
                </div>
                <span class="data-label">
                  {{'Dashboard.MyActivity.cumulativeReps' | translate}}
                </span>
              </div>
            </div>
            <div class="activity-info__area"
              *ngIf="activityInfo?.type === '3'"
            >
              <div class="ala-dashboard-title activty-title">
                {{'Dashboard.MyActivity.sets' | translate}}
              </div>
              <div class="activity-info__area--block">
                <div>
                  {{activityInfo?.totalActivityLapOrSet || 0}}
                  <span class="data-label">sets</span>
                </div>
                <span class="data-label">
                  {{'Dashboard.MyActivity.totalSets' | translate}}
                </span>
              </div>
              <div class="activity-info__area--block">
                <div>
                  {{activityInfo?.totalReps || 0}}
                  <span class="data-label">reps</span>
                </div>
                <span class="data-label">
                  {{ 'SH.totalReps' | translate}}
                </span>
              </div>
            </div>
            <div class="activity-info__area"
              *ngIf="activityInfo?.type === '4'"
            >
              <div class="ala-dashboard-title activty-title">
                {{'Dashboard.MyActivity.swimmingDynamics' | translate}}
              </div>
              <div class="activity-info__area--block">
                <div>
                  {{activityInfo?.swimAvgCadence || 0}}
                  <span class="data-label">spm</span>
                </div>
                <span class="data-label">
                  {{'Dashboard.MyActivity.avgSwimReps' | translate}}({{'Dashboard.MyActivity.swin' | translate}})
                </span>
              </div>
              <div class="activity-info__area--block">
                <div>
                  {{activityInfo?.swimMaxCadence || 0}}
                  <span class="data-label">spm</span>
                </div>
                <span class="data-label">
                  {{'Dashboard.MyActivity.baetSwimReps' | translate}}({{'Dashboard.MyActivity.swin' | translate}})
                </span>
              </div>
            </div>
            <div class="activity-info__area"
              *ngIf="activityInfo?.type === '4'"
            >
              <div class="ala-dashboard-title activty-title">
                {{'Dashboard.MyActivity.SwimPool' | translate}}
              </div>
              <div class="activity-info__area--block">
                <div>
                  {{activityInfo?.poolLengthMeters || 0}}
                  <span class="data-label">m</span>
                </div>
                <span class="data-label">
                  {{'Dashboard.MyActivity.poolLength' | translate}}
                </span>
              </div>
              <div class="activity-info__area--block">
                <div>
                  {{activityInfo?.poolSwimAvgCadence || 0}}
                  <span class="data-label">spm</span>
                </div>
                <span class="data-label">
                  {{'Dashboard.MyActivity.avgStrokeCadence' | translate}}
                </span>
              </div>
            </div>
            <div class="activity-info__area"
              *ngIf="activityInfo?.type === '6'"
            >
              <div class="ala-dashboard-title activty-title">
                {{'Dashboard.MyActivity.rowingDynamic' | translate}}
              </div>
              <div class="activity-info__area--block">
                <div>
                  {{activityInfo?.rowingAvgCadence || 0}}
                  <span class="data-label">rpm</span>
                </div>
                <span class="data-label">
                  {{'Dashboard.MyActivity.avgRowCadence' | translate}}({{'Dashboard.MyActivity.row' | translate}})
                </span>
              </div>
              <div class="activity-info__area--block">
                <div>
                  {{activityInfo?.rowingMaxCadence || 0}}
                  <span class="data-label">rpm</span>
                </div>
                <span class="data-label">
                  {{'Dashboard.MyActivity.baetRowReps' | translate}}({{'Dashboard.MyActivity.row' | translate}})
                </span>
              </div>
            </div>
          </div>
        </mat-tab>
        <mat-tab label="{{'Dashboard.MyActivity.segmentationData' | translate}}">
          <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
            <ng-container matColumnDef="status-lapIndex">
              <th mat-header-cell *matHeaderCellDef>
                <div>
                  <span>{{'Dashboard.MyActivity.numero' | translate}}</span>
                </div>
              </th>
              <td mat-cell *matCellDef="let element; let i = index;">
                  <i *ngIf="element.type === '1'"
                    class="icon-svg_web-icon_p2_039-rest ala-activity-icon"
                  ></i>
                  <span *ngIf="element.type !== '1'">
                    <i *ngIf="activityInfo?.type === '1'"
                      class="icon-svg_web-icon_p1_083-run ala-activity-icon"
                    ></i>
                    <i *ngIf="activityInfo?.type === '2'"
                      class="icon-svg_web-icon_p1_084-cycle ala-activity-icon"
                    ></i>
                    <i *ngIf="activityInfo?.type === '3'"
                      class="icon-svg_web-icon_p1_086-weight_training ala-activity-icon"
                    ></i>
                    <i *ngIf="activityInfo?.type === '4'"
                      class="icon-svg_web-icon_p1_085-swim ala-activity-icon"
                    ></i>
                    <i *ngIf="activityInfo?.type === '5'"
                      class="icon-svg_web-icon_p1_087-aerobic ala-activity-icon"
                    ></i>
                    <i *ngIf="activityInfo?.type === '6'"
                      class="icon-svg_web-icon_p1_088-row ala-activity-icon"
                    ></i>
                  </span>
                {{i + 1}}
              </td>
            </ng-container>
            <ng-container matColumnDef="dispName">
              <th mat-header-cell *matHeaderCellDef>
                <span *ngIf="activityInfo?.type === '3'">{{'Dashboard.MyActivity.setName' | translate}}</span>
                <span *ngIf="activityInfo?.type === '4'">{{'Dashboard.MyActivity.swimPosture' | translate}}</span>
              </th>
              <ng-container *ngIf="activityInfo?.type !== '4'">
                <td mat-cell *matCellDef="let element"
                >{{element.dispName}} </td>
              </ng-container>
              <ng-container *ngIf="activityInfo?.type === '4'">
                <td mat-cell *matCellDef="let element">
                  <span *ngIf="element.lapSwimPosture === '1'">
                    {{'Dashboard.MyActivity.individualMedley' | translate}}
                  </span>
                  <span *ngIf="element.lapSwimPosture === '2'">
                    {{'Dashboard.MyActivity.freestyle' | translate}}
                  </span>
                  <span *ngIf="element.lapSwimPosture === '3'">
                    {{'Dashboard.MyActivity.breastStroke' | translate}}
                  </span>
                  <span *ngIf="element.lapSwimPosture === '4'">
                    {{'Dashboard.MyActivity.backStroke' | translate}}
                  </span>
                  <span *ngIf="element.lapSwimPosture === '5'">
                    {{'Dashboard.MyActivity.butterflyStroke' | translate}}
                  </span>
                </td>
              </ng-container>
            </ng-container>
            <ng-container matColumnDef="cadence">
              <th mat-header-cell *matHeaderCellDef>
                <div *ngIf="activityInfo?.type !== '3'" class="segmentation-info-title">
                  <span *ngIf="activityInfo?.type === '4'">
                    {{'Dashboard.MyActivity.avgSwimReps' | translate}}
                  </span>
                  <span *ngIf="activityInfo?.type === '6'">
                    {{'Dashboard.MyActivity.avgRowCadence' | translate}}
                  </span>
                  <span class="data-label">rpm</span>
                </div>
                <div *ngIf="activityInfo?.type === '3'" class="segmentation-info-title">
                  <span>{{'Dashboard.MyActivity.liveTempo' | translate}}</span>
                  <span class="data-label">spm</span>
                </div>
              </th>
              <ng-container *ngIf="activityInfo?.type === '3'">
                <td mat-cell *matCellDef="let element"
                >{{element.setMoveRepetitionsAvgCadence}} </td>
              </ng-container>
              <ng-container *ngIf="activityInfo?.type === '4'">
                <td mat-cell *matCellDef="let element"
                >{{element.lapSwimAvgCadence}} </td>
              </ng-container>
              <ng-container *ngIf="activityInfo?.type === '6'">
                <td mat-cell *matCellDef="let element"
                > {{element.lapRowingAvgCadence}} </td>
              </ng-container>
            </ng-container>
            <ng-container matColumnDef="totalRepo">
              <th mat-header-cell *matHeaderCellDef>
                <div class="segmentation-info-title">
                  <span *ngIf="activityInfo?.type === '3'">{{'Dashboard.MyActivity.reps' | translate}}</span>
                  <span *ngIf="activityInfo?.type === '4' || activityInfo?.type === '6'">
                    {{'Dashboard.MyActivity.numberOfStrokes' | translate}}
                    <span *ngIf="activityInfo?.type === '4'">({{'Dashboard.MyActivity.swin' | translate}})</span>
                    <span *ngIf="activityInfo?.type === '6'">({{'Dashboard.MyActivity.row' | translate}})</span>
                  </span>
                  <span class="data-label">reps</span>
                </div>
              </th>
              <ng-container *ngIf="activityInfo?.type === '3'">
                <td mat-cell *matCellDef="let element"
                >{{element.setTotalReps}} </td>
              </ng-container>
              <ng-container *ngIf="activityInfo?.type === '4'">
                <td mat-cell *matCellDef="let element"
                > {{element.lapTotaStrokes}} </td>
              </ng-container>
              <ng-container *ngIf="activityInfo?.type === '6'">
                <td mat-cell *matCellDef="let element"
                > {{element.lapTotalPulls}} </td>
              </ng-container>
            </ng-container>
            <ng-container matColumnDef="totalWeight">
              <th mat-header-cell *matHeaderCellDef>
                <div class="segmentation-info-title">
                  {{'Dashboard.MyActivity.setWeight' | translate}}
                  <span class="data-label">kg</span>
                </div>
              </th>
                <td mat-cell *matCellDef="let element"
                >{{element.setTotalWeightKg}} </td>
            </ng-container>
            <ng-container matColumnDef="heartRate">
              <th mat-header-cell *matHeaderCellDef>
                <div class="segmentation-info-title">
                  <span>{{ 'SH.avgHr' | translate}}</span>
                  <span class="data-label">bpm</span>
                </div>
              </th>
              <td mat-cell *matCellDef="let element"> {{element.lapAvgHeartRateBpm}} </td>
            </ng-container>
            <ng-container matColumnDef="speed">
              <th mat-header-cell *matHeaderCellDef>
                <div *ngIf="activityInfo?.type === '1'" class="segmentation-info-title">
                  <span>{{'SH.avgPace' | translate}}</span>
                  <span class="data-label">min/km</span>
                </div>
                <div *ngIf="activityInfo?.type === '4'" class="segmentation-info-title">
                  <span>{{'SH.avgPace' | translate}}</span>
                  <span class="data-label">min/100m</span>
                </div>
                <div *ngIf="activityInfo?.type === '6'" class="segmentation-info-title">
                  <span>{{'SH.avgPace' | translate}}</span>
                  <span class="data-label">min/500m</span>
                </div>
                <div *ngIf="activityInfo?.type !== '4' && activityInfo?.type !== '1' && activityInfo?.type !== '6'"
                      class="segmentation-info-title"
                >
                  <span>{{'SH.avgSpeed' | translate}}</span>
                  <span>km/h</span>
                </div>
              </th>
              <td mat-cell *matCellDef="let element"> {{element.lapAvgSpeed | sportPace: activityInfo?.type}} </td>
            </ng-container>
            <ng-container matColumnDef="distance">
              <th mat-header-cell *matHeaderCellDef>
                <div class="segmentation-info-title">
                  <span>{{'Dashboard.MyActivity.distance' | translate}}</span>
                  <span>km</span>
                </div>
              </th>
              <td mat-cell *matCellDef="let element"> {{element.lapTotalDistanceMeters / 1000  | number: '0.1-3' }} </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
        </mat-tab>
      </mat-tab-group>
    </p>
  </div>
</ng-container>
<div style="display:flex;justify-content: center;align-items: center;height:100%"
  *ngIf="isOtherDetailLoading"
>
  <mat-spinner></mat-spinner>
</div>
<ng-container *ngIf="isLoadedOtherDetail">
  <div class="other-info--area">
    <div class="container">
      <div class="other-info">
        <div class="ala-dashboard-title activty-title">
          {{'Dashboard.ActivityDetail.device' | translate}}
        </div>
        <div style="display: flex; justify-content: center;">
          <img src={{deviceInfo?.modelImgUrl}} style="height: 200px;width: auto;">
        </div>
        <div>
          {{ 'Portal.modeCode' | translate}}：{{ deviceInfo?.modelName || 'SH.noData' | translate }}
        </div>
        <div>
          {{"Portal.modeType" | translate}}：{{ (deviceInfo?.modelType | productType | translate) || 'SH.noData' | translate }}
        </div>
      </div>
      <div class="other-info" *ngIf="classInfo">
        <div class="ala-dashboard-title activty-title">
          {{'Dashboard.TrainLive.courseIntroduction' | translate}}
        </div>
        <div style="display:flex; flex-direction:column; margin-top:10px">
          <div style="display:flex;align-items: center;">
            <div class="user-photo"
              style="margin: 0 auto"
              [ngClass]="classInfo?.groupIconClassName"
            >
              <img [src]="classInfo?.groupIcon">
            </div>
          </div>
          <div class="lesson-title" style="padding-left: 10px">
            <span>
              {{classInfo?.groupName}}
            </span>
            <span  class="lesson-title-location" style="text-align: left;">
              {{classInfo?.groupRootInfo[2].brandName}} /  {{classInfo?.groupRootInfo[3].branchName}}
            </span>
          </div>
        </div>
        <div class="introduction" style="padding: 10px">
          {{ lessonInfo }}
          <div *ngIf="isLessonMoreDisplay"
            style="color: #5fbae3;cursor:pointer;text-align: right"
            (click)="handleExtendCoachInfo(2)"
          >
            {{ "Dashboard.TrainLive.more" | translate}}...
          </div>
        </div>
      </div>
      <div class="other-info" *ngIf="coachInfo">
        <div class="ala-dashboard-title activty-title">
          {{'Dashboard.TrainLive.coachIntroduction' | translate}}
        </div>
        <div style="display:flex; flex-direction:column; margin-top:10px">
          <div class="user-photo user-photo--portrait" style="margin: 0 auto">
            <img [src]="coachInfo?.coachAvatar">
          </div>
          <div class="coach-name" style="padding-left: 20px">{{coachInfo?.name}}</div>
        </div>
        <div class="introduction" style="padding-top: 10px">
          {{ coachDesc }}
          <!-- {{ classInfo?.coachDesc}} --> <!-- 等之後有個人頁面在接回來 -->
          <div *ngIf="isCoachMoreDisplay"
            style="color: #5fbae3;cursor:pointer;text-align: right"
            (click)="handleExtendCoachInfo(1)"
          >
            {{ "Dashboard.TrainLive.more" | translate}}...
          </div>
        </div>
      </div>
    <!-- </div> -->
    <!-- <div class="container other-info--section"> -->
      <div class="other-info" *ngIf="fileInfo?.note">
        <div class="ala-dashboard-title activty-title">
          {{'Dashboard.ActivityDetail.brief' | translate}}
        </div>
        <div>
          {{fileInfo?.note}}
        </div>
      </div>
      <div class="other-info" *ngIf="fileInfo?.location">
        <div class="ala-dashboard-title activty-title">
          {{'Dashboard.ActivityDetail.coordinate' | translate}}
        </div>
        {{fileInfo?.location}}
      </div>
      <div class="other-info" *ngIf="fileInfo">
        <div class="ala-dashboard-title activty-title">
          {{'Dashboard.ActivityDetail.fileInfo' | translate}}
        </div>
        <div>
          {{'Dashboard.ActivityDetail.dataFormatVersion' | translate}}：{{fileInfo?.versionName}}
        </div>
        <div>
          {{'Dashboard.ActivityDetail.syncDate' | translate}}：{{fileInfo?.syncDate}}
        </div>
        <div>
          {{'Dashboard.ActivityDetail.editTime' | translate}}：{{fileInfo?.editDate}}
        </div>
      </div>
      <div class="other-info" *ngIf="fileInfo?.tag">
        <div class="ala-dashboard-title activty-title">
          {{'Dashboard.ActivityDetail.tag' | translate}}
        </div>
        <div>
          {{fileInfo?.tag}}
        </div>
      </div>
    </div>
  </div>
</ng-container>

