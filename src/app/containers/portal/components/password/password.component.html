<div class="access-bg">
  <div class="container" style="padding-top:63px">
    <div class="d-flex" style="flex-direction: column;align-items: center;;">

      <div class="access-description">
        在Ala Center上，獲得健體分析
        <br> 生活追蹤、即時分享與競賽樂趣
      </div>
      <div class="access-panel reset-pwd">
        <header class="access-header">
          <img src="assets/attacus_logo.png" style="width: 36%">
        </header>
        <div class="access-panel-body">
          <form novalidate #f="ngForm" (ngSubmit)="reset(f, $event)" *ngIf="!isSuccess && resultMessage.length === 0">
            <div class="form-group">
              <label for="exampleInputEmail1" class="access-text">帳號</label>
              <input class="form-control" value={{email}} readonly="readonly">
            </div>
            <div class="form-group">
              <label for="exampleInputPassword1" class="access-text">
                密碼
              </label>
              <input type="password" class="form-control"
                name="newPassword"
                [(ngModel)]="resetpwd.newPassword"
                #newPassword="ngModel"
                autocomplete="password"
                placeholder="密碼需區分大小寫並包含數字"
                minlength="8"
                pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,20}$"
                [class.form-control--invalid]="(newPassword.errors?.required && newPassword.touched) || !isConfirm || (f.submitted && newPassword.errors?.required) || (newPassword.hasError('pattern') && newPassword.touched)"
                required
              />
              <div class="form__message form__message--placeholder" *ngIf="(newPassword.errors?.required && newPassword.touched) || (f.submitted && newPassword.errors?.required)">
                Password is required.
              </div>
              <div class="form__message form__message--placeholder" *ngIf="newPassword.hasError('pattern') && newPassword.touched">
                密碼至少8碼，包含大小寫、小寫字母及數字
              </div>
            </div>
            <div class="form-group">
              <label for="exampleInputPassword1" class="access-text">
                確認密碼
              </label>
              <input type="password" class="form-control"
                name="confirmPassword"
                autocomplete="off"
                [(ngModel)]="resetpwd.confirmPassword"
                #confirmPassword="ngModel"
                placeholder="再次確認密碼"
                minlength="8"
                pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,20}$"
                required
                [class.form-control--invalid]="(confirmPassword.errors?.required && confirmPassword.touched) || !isConfirm|| (f.submitted && newPassword.errors?.required)"
              />
              <div class="form__message form__message--placeholder" *ngIf="confirmPassword.errors?.required && confirmPassword.touched || (f.submitted && confirmPassword.errors?.required)">
                Password is required.
              </div>
              <div class="form__message form__message--placeholder" *ngIf="confirmPassword.hasError('pattern') && confirmPassword.touched">
                密碼至少8碼，包含大小寫、小寫字母及數字
              </div>
              <div class="form__message form__message--placeholder" *ngIf="!isConfirm">
                輸入的密碼與新密碼不符合
              </div>
            </div>
            <div class="auth-submit">
              <app-confirm-button
                [className]="className"
                [content]="content"
                [disabled]="isSending"
              >
              </app-confirm-button>
            </div>
          </form>
          <div *ngIf="isSuccess">密碼已修改成功，
            請用新密碼重新登入系統
          </div>
          <div *ngIf="!isSuccess && resultMessage.length > 0" class="form__message">
            {{resultMessage}}
          </div>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="!isSuccess && resultMessage.length > 0" class="form__message">
    {{resultMessage}}
  </div>
</div>

