<portal-navbar></portal-navbar>
<div class="main">
  <div class="collapse navbar-collapse search-form" id="navbarResponsive" [class.show]="isCollapseOpen">
    <form (ngSubmit)="onSubmit(rankForm, $event)" #rankForm="ngForm">
      <div class="form-group">
        <label style="color: #008bcd">Map</label>
        <select name="mapId" [(ngModel)]="mapId" class="form-field mr-2" (click)="selectMap(mapId)"style="width: 100%">
          <option *ngFor="let _map of mapDatas" [value]="_map.map_id">{{ _map.map_name }}</option>
        </select>
      </div>

      <div class="form-group">
        <label style="color: #008bcd">Email</label>
        <div class="dropdown" (click)="openActive($event)">
          <div class="clearable">
            <input type="email" name="email" [(ngModel)]="email" (keyup)="inputEvent($event)" autocomplete="off" [class.loading]="isSelectLoading"
              class="form-field" placeholder="enter email" (focus)="focusEvent($event)" style="width: 100%;text-overflow: ellipsis;">
            <i class="clearable__clear" [class.show]="isClearIconShow" (click)="clear()">&times;</i>
            <i class="fa fa-caret-down async-caret"></i>
            <i class="fa fa-spinner fa-pulse fa-1x fa-fw spinner" [class.spinner-hidden]="!isSelectLoading"></i>
          </div>
          <ul class="dropdown-menu" style="width: 100%;" *ngIf="emailOptions && emailOptions.length > 0" [class.show]="active && emailOptions.length > 0">
            <li *ngFor="let o of emailOptions; let i = index"
             (click)="remove(i, $event)">
              <a>
                {{ o }}
              </a>
            </li>
          </ul>
        </div>
      </div>
      <div class="form-group">
        <label style="color: #008bcd">Month</label>
        <select name="month" [(ngModel)]="month" class="form-field mr-2" placeholder="month" style="width: 100%">
          <option *ngFor="let _month of monthDatas" [value]="_month.month">{{ _month.month }}</option>
        </select>
      </div>
      <div class="form-group">
        <label style="color: #008bcd">組別</label>
        <select name="groupId" [(ngModel)]="groupId" class="form-field mr-2" style="width: 100%">
          <option [value]="3">無分組</option>
          <option [value]="0">男生組</option>
          <option [value]="1">女生組</option>
        </select>
      </div>
      <button type="submit" class="button search-form__button" style="width: 100%">
        search
      </button>
    </form>
  </div>
  <div class="mask" [class.mask--show]="isMaskShow"></div>
  <router-outlet></router-outlet>
</div>
